"use strict";(self.webpackChunkdeploy=self.webpackChunkdeploy||[]).push([[560],{6560:function(e,s,n){n.r(s),n.d(s,{default:function(){return C}});var r=n(2791),t=n(8687),a=n(1076),u=n(7781),o=n(2291),c=n(9439),i="AddMessageForm_sendDiv__EzLMx",l="AddMessageForm_sendButton__ZtxPd",d="AddMessageForm_messageText__1Xi+f",f=n(9230),g=n(184),m=r.memo((function(){var e=(0,r.useState)(""),s=(0,c.Z)(e,2),n=s[0],u=s[1],o=(0,t.I0)(),m=(0,t.v9)((function(e){return e.chat.status})),h=(0,f.$G)(),v=h.t,x=h.i18n;(0,r.useEffect)((function(){var e=navigator.language;x.changeLanguage(e)}),[]);navigator.language;return(0,g.jsxs)("div",{className:i,children:[(0,g.jsx)("button",{className:l,disabled:"ready"!==m,onClick:function(){n&&(o((0,a.bG)(n)),u(""))},children:v("myPosts.send")}),(0,g.jsx)("textarea",{className:d,onChange:function(e){return u(e.currentTarget.value)},value:n})]})}));var h="Message_message__TReyk",v="Message_messageOfUser__RlQFt",x="Message_username__kSbA-",j=r.memo((function(e){var s=e.message;return(0,g.jsxs)("div",{className:h,children:[(0,g.jsx)("img",{src:s.photo,style:{width:"30px",borderRadius:"50%"},alt:""})," ",(0,g.jsx)("b",{className:x,children:s.userName}),(0,g.jsx)("br",{}),(0,g.jsx)("div",{className:v,children:s.message})]})})),_=r.memo((function(e){!function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(e);var s=(0,t.v9)((function(e){return e.chat.messages})),n=(0,r.useRef)(null),a=(0,r.useState)(!0),u=(0,c.Z)(a,2),o=u[0],i=u[1];return(0,r.useEffect)((function(){var e;o&&(null===(e=n.current)||void 0===e||e.scrollIntoView({behavior:"smooth"}))}),[s]),(0,g.jsxs)("div",{style:{height:"630px",overflowY:"scroll",backgroundColor:"#ECF5FC"},onScroll:function(e){var s=e.currentTarget;Math.abs(s.scrollHeight-s.scrollTop-s.clientHeight)<300?!o&&i(!0):o&&i(!1)},children:[s.map((function(e,s){return(0,g.jsx)(j,{message:e},e.id)})),(0,g.jsx)("div",{ref:n})]})})),p=r.memo((function(){var e=(0,f.$G)().i18n;return(0,r.useEffect)((function(){var s=localStorage.getItem("lg");e.changeLanguage(s)}),[]),(0,g.jsx)("div",{children:(0,g.jsx)(b,{})})})),b=r.memo((function(){var e=(0,t.I0)(),s=(0,t.v9)((function(e){return e.chat.status}));return(0,r.useEffect)((function(){return e((0,a.WE)()),function(){e((0,a.R7)())}}),[]),(0,g.jsx)("div",{children:"error"===s?(0,g.jsx)("div",{children:"Some error occured, please refresh the page"}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(_,{}),(0,g.jsx)(m,{})]})})})),C=(0,u.qC)(o.S)(p)}}]);
//# sourceMappingURL=560.d5a3171b.chunk.js.map